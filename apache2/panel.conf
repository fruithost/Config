<VirtualHost *:80>
	ServerAdmin info@fruithost.de
	DocumentRoot "/etc/fruithost/panel/"
	ServerName $hostname
	ErrorLog "/var/fruithost/logs/panel_error.log" 
	CustomLog "/var/fruithost/logs/panel_access.log" combined
	CustomLog "/var/fruithost/logs/panel_bandwidth.log" common
	
	#<IfModule mpm_itk_module>
	# AssignUserId www-data www-data
	#</IfModule>
	
	Alias /errors/100.html /etc/fruithost/placeholder/errors/100.html
	Alias /errors/101.html /etc/fruithost/placeholder/errors/101.html
	Alias /errors/401.html /etc/fruithost/placeholder/errors/401.html
	Alias /errors/403.html /etc/fruithost/placeholder/errors/403.html
	Alias /errors/404.html /etc/fruithost/placeholder/errors/404.html
	Alias /errors/405.html /etc/fruithost/placeholder/errors/405.html
	Alias /errors/408.html /etc/fruithost/placeholder/errors/408.html
	Alias /errors/410.html /etc/fruithost/placeholder/errors/410.html
	Alias /errors/411.html /etc/fruithost/placeholder/errors/411.html
	Alias /errors/412.html /etc/fruithost/placeholder/errors/412.html
	Alias /errors/413.html /etc/fruithost/placeholder/errors/413.html
	Alias /errors/414.html /etc/fruithost/placeholder/errors/414.html
	Alias /errors/415.html /etc/fruithost/placeholder/errors/415.html
	Alias /errors/500.html /etc/fruithost/placeholder/errors/500.html
	Alias /errors/501.html /etc/fruithost/placeholder/errors/501.html
	Alias /errors/502.html /etc/fruithost/placeholder/errors/502.html
	Alias /errors/503.html /etc/fruithost/placeholder/errors/503.html
	Alias /errors/504.html /etc/fruithost/placeholder/errors/504.html
	Alias /errors/505.html /etc/fruithost/placeholder/errors/505.html
	Alias /errors/506.html /etc/fruithost/placeholder/errors/506.html

	<Directory /etc/fruithost/panel>
		Options +FollowSymLinks -Indexes +IncludesNoExec
		AllowOverride All
		Require all granted
	</Directory>
	
	# Set PHP-FPM
	<IfModule setenvif_module>
		SetEnvIfNoCase ^Authorization$ "(.+)" HTTP_AUTHORIZATION=$1
	</IfModule>
	<FilesMatch ".+\.ph(?:ar|p|tml)$">
		SetHandler "proxy:unix:/run/php/php8.2-fpm.sock|fcgi://localhost"
	</FilesMatch>

	Header set X-Frame-Options: "SAMEORIGIN"
	Alias /app /etc/fruithost/modules
</VirtualHost>
